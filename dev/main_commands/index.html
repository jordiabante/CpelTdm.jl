<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Main Commands · CpelTdm</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="CpelTdm logo"/></a><div class="docs-package-name"><span class="docs-autofit">CpelTdm</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Main Commands</a><ul class="internal"><li><a class="tocitem" href="#Unmatched-group-comparison-1"><span>Unmatched group comparison</span></a></li><li><a class="tocitem" href="#Matched-group-comparison-1"><span>Matched group comparison</span></a></li></ul></li><li><a class="tocitem" href="../toy_example/">Toy Example</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Main Commands</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Main Commands</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jordiabante/CpelTdm.jl/blob/master/docs/src/main_commands.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p><img src="https://github.com/jordiabante/CpelTdm.jl/workflows/CI/badge.svg" alt="CI"/> <img src="https://github.com/jordiabante/CpelTdm.jl/workflows/Docs/badge.svg" alt="Docs"/> <a href="https://github.com/jordiabante/CpelTdm.jl/blob/master/LICENSE.md"><img src="https://img.shields.io/badge/license-MIT-green.svg" alt="MIT license"/></a></p><h1 id="Main-commands-1"><a class="docs-heading-anchor" href="#Main-commands-1">Main commands</a><a class="docs-heading-anchor-permalink" href="#Main-commands-1" title="Permalink"></a></h1><h2 id="Unmatched-group-comparison-1"><a class="docs-heading-anchor" href="#Unmatched-group-comparison-1">Unmatched group comparison</a><a class="docs-heading-anchor-permalink" href="#Unmatched-group-comparison-1" title="Permalink"></a></h2><p>In order to perform an unmatched group comparison, we first need to load the package. Then, the right paths need to be specified, including paths to the reference FASTA file, given by <code>fa</code> below, the path to the BED file containing the regions of interest, given by <code>bed</code> below, and the path to each bam file for each groups, given by the <code>bams1</code> &amp; <code>bams2</code> vectors below. Note that the BED file is expected to have for columns, being the first three <code>chr</code>, <code>st</code>,  and <code>end</code>. In addition, the output directory <code>outdir</code> and <code>prefix</code>  need to be defined as well. Finally, we call function <code>cpel_tdm</code>  setting the optional argument <code>matched</code> equal to <code>false</code>, since in  this case we wish to perform an unmatched group comparison. In  addition, here we assume that we are using paired end sequencing  data, hence we set <code>pe=true</code>. However, if the sequencing data were  single end, we would set <code>pe=false</code> instead.</p><pre><code class="language-julia">
# Load dependencies
using Distributed
@everywhere using CpelTdm

# Set paths
dir_name = &quot;/path/to/data/&quot;
fa = &quot;$(dir_name)/fasta/reference.fa&quot;
bed = &quot;$(dir_name)/bed/regions_of_interest.bed&quot;
bams1 = &quot;$(dir_name)/bam/&quot;.*[&quot;g1_s1.bam&quot;,&quot;g1_s2.bam&quot;,&quot;g1_s3.bam&quot;,&quot;g1_s4.bam&quot;]
bams2 = &quot;$(dir_name)/bam/&quot;.*[&quot;g2_s1.bam&quot;,&quot;g2_s2.bam&quot;,&quot;g2_s3.bam&quot;,&quot;g2_s4.bam&quot;,&quot;g2_s5.bam&quot;]

# Output paths
prefix = &quot;cpeltdm&quot;
outdir = &quot;$(dir_name)/cpeltdm-unmatched/&quot;

# Run matched analysis
cpel_tdm(bams1,bams2,bed,fa,outdir,prefix;pe=true,matched=false)
</code></pre><p>If you wish to run CpelTdm on a cluster, we recommend you store the previous code into a file, say <code>cpeltdm_unmatched_call.jl</code>.  Then, in the submission script you can execute the content of  this file using the command <code>julia -p 10 cpeltdm_unmatched_call.jl</code>,  which will execute the code providing CpelTdm with 10 CPUs to  perform the analysis.</p><h2 id="Matched-group-comparison-1"><a class="docs-heading-anchor" href="#Matched-group-comparison-1">Matched group comparison</a><a class="docs-heading-anchor-permalink" href="#Matched-group-comparison-1" title="Permalink"></a></h2><p>In order to perform an matched group comparison we need to follow the same steps as in the unmatched group comparison as far as  the paths go. In this case, however, CpelTdm assumes that the i-th sample in <code>bams1</code> matches that of <code>bams2</code>. Finally, we call  function <code>cpel_tdm</code> setting the optional argument <code>matched</code> equal  to <code>true</code>, since in this case we wish to perform a matched group  comparison. In addition, here we assume that we are using paired  end sequencing data, hence we set <code>pe=true</code>. </p><pre><code class="language-julia">
# Load dependencies
using Distributed
@everywhere using CpelTdm

# Set paths
dir_name = &quot;/path/to/data/&quot;
fa = &quot;$(dir_name)/fasta/reference.fa&quot;
bed = &quot;$(dir_name)/bed/regions_of_interest.bed&quot;
bams1 = &quot;$(dir_name)/bam/&quot;.*[&quot;g1_s1.bam&quot;,&quot;g1_s2.bam&quot;,&quot;g1_s3.bam&quot;,&quot;g1_s4.bam&quot;,&quot;g1_s5.bam&quot;]
bams2 = &quot;$(dir_name)/bam/&quot;.*[&quot;g2_s1.bam&quot;,&quot;g2_s2.bam&quot;,&quot;g2_s3.bam&quot;,&quot;g2_s4.bam&quot;,&quot;g2_s5.bam&quot;]

# Output paths
prefix = &quot;cpeltdm&quot;
outdir = &quot;$(dir_name)/cpeltdm-matched/&quot;

# Run matched analysis
cpel_tdm(bams1,bams2,bed,fa,outdir,prefix;pe=true,matched=true)
</code></pre><p>Similar to the unmatched case, if you wish to run CpelTdm on a  cluster, we recommend you store the previous code into a file,  say <code>cpeltdm_matched_call.jl</code>. Then, in the submission script you  can execute the content of this file using the command  <code>julia -p 10 cpeltdm_matched_call.jl</code>, which will execute the  code providing CpelTdm with 10 CPUs to perform the analysis.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../toy_example/">Toy Example »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 28 June 2020 20:17">Sunday 28 June 2020</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
